/**
 * Rainbow authentication portal
 * # Rainbow authentication portal API guide  ## Preamble  [Download Postman collection][0]  ### Introduction  This guide describes list of API services that are provided by OT Rainbow authentication portal system. Services are used to manage OT Rainbow authentication.  ### Protocol  REST interface is used for sending/receiving OT rainbow API messages.   HTTP request GET is used. Standard HTTP responses are used to provide requested information or error status. There is no session notion in OT Rainbow system, so requests could be issued according stateless model, without transport conservation between them.   JSON is used as a main format for data encoding in message body part. Each request is started with the following pattern /{module}/{version}/ where {module} is a portal module name to address and {version} is a version of used API, par example, “v1.0”.  ### Security considerations  Each request should contain some credential information to authenticate itself. Standard HTTP authentication with basic/bearer modes is used. JSON Web Token mechanism is used to provide authentication information. JWT has a expire timeout that is controlled by OT Rainbow portal to prevent very long token usage. Also authentication with application token is used. The token must be provided in the request HTTP header, using a custom header: APIKey. At server side, token is verified, and if it doesn’t match, 403 Not Allowed response is sent. TLS is used as a transport protocol to support message exchanges between OT Rainbow portal and an application.    [0]: AuthenticationPortalServer_postman.json  # Authentication  <!-- ReDoc-Inject: <security-definitions> -->
 *
 * The version of the OpenAPI document: 1.95.0
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 *
 * OpenAPI Generator version: 4.1.2
 *
 * Do not edit the class manually.
 *
 */

(function(root, factory) {
  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module.
    define(['ApiClient', 'model/OAuthAuthorizeSuccess', 'model/OAuthToken', 'model/OAuthTokenSuccess'], factory);
  } else if (typeof module === 'object' && module.exports) {
    // CommonJS-like environments that support module.exports, like Node.
    module.exports = factory(require('../ApiClient'), require('../model/OAuthAuthorizeSuccess'), require('../model/OAuthToken'), require('../model/OAuthTokenSuccess'));
  } else {
    // Browser globals (root is window)
    if (!root.RainbowAuthenticationPortal) {
      root.RainbowAuthenticationPortal = {};
    }
    root.RainbowAuthenticationPortal.OauthAuthenticationApi = factory(root.RainbowAuthenticationPortal.ApiClient, root.RainbowAuthenticationPortal.OAuthAuthorizeSuccess, root.RainbowAuthenticationPortal.OAuthToken, root.RainbowAuthenticationPortal.OAuthTokenSuccess);
  }
}(this, function(ApiClient, OAuthAuthorizeSuccess, OAuthToken, OAuthTokenSuccess) {
  'use strict';

  /**
   * OauthAuthentication service.
   * @module api/OauthAuthenticationApi
   * @version 1.95.0
   */

  /**
   * Constructs a new OauthAuthenticationApi. 
   * @alias module:api/OauthAuthenticationApi
   * @class
   * @param {module:ApiClient} [apiClient] Optional API client implementation to use,
   * default to {@link module:ApiClient#instance} if unspecified.
   */
  var exports = function(apiClient) {
    this.apiClient = apiClient || ApiClient.instance;



    /**
     * 1 - OAuth Authorization Request
     * This endpoints allows applications to get authorization from Rainbow users to use Rainbow APIs with their account. This delegation of access can be performed using OAuth 2.0 **Authorization code** grant or **Implicit** grant.  While both OAuth 2.0 Authorization Code grant and Implicit grant are supported by Rainbow, Authorization Code grant is **recommended** as it is more secure.  Implicit grant is recommended for browser applications implemented in JavaScript that can't provide a backend server handling the token exchange flow of OAuth Authorization Code grant. Indeed, such applications should not embed appSecret in their source code for security reasons, and Implicit grant allow them to retrieve the OAuth access token without sending the appSecret to Rainbow server (redirect_uri is the only security available with this flow). The limitation of implicit grant is that only an access token is returned, which has a limited lifetime and can't be renewed. Application has to execute again the whole Implicit grant flow to retrieve a new access token.  To enable Implicit grant for an application, the application's setting `enableOAuthImplicitGrant` has to be set to true (it is disabled by default).  For more information, see the OAuth 2.0 RFC related to authorization endpoint: - <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1</a> for Authorization Code grant, - <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1</a> for Implicit grant.  Note that Rainbow applications are named **client** in OAuth 2.0 RFC.   ### 1. Authorize request for Authorization code grant   The OAuth **Authorization Code** Grant flow is detailed in the following sequence diagram.  This GET /api/rainbow/authentication/v1.0/oauth/authorize endpoint addresses points 1 to 7 of this diagram for Authorization code grant flow (points 8 to 9 are addressed by POST /api/rainbow/authentication/v1.0/oauth/token endpoint, see related <a href=\"#api-OAuth_Authentication-OAuthToken\">documentation</a>). ![Failed to load diagram :-(](img/oauth_authorization_code_flow_sd.png \"OAuth Authorization Code Grant sequence diagram\")  Details about the sequence diagram: - (1) User is on application website - (1) User accesses to application content that needs data from Rainbow, or application allows to login with Rainbow,     … (use case depends of the application needs) - (2) Application redirects to OAuth authorize endpoint on Rainbow authentication server.       Some query string parameters are provided in the query (defined by <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">OAuth 2.0 RFC</a>):      - `response_type`: \"**code**\" for requesting an authorization code (authorization code grant)      - `client_id`: the application identifier (appId)      - `redirect_uri`: application\\'s backend endpoint where the authorization code will be sent.        <br/> It has to use TLS for security reasons, as the authorization code is exchanged between Rainbow and the application\\'s backend through the browser.      - `scope`: scope of the access requested by the application.        <br/> Currently, only \"all\" is supported (meaning that the application will have full access on all the Rainbow APIs).        <br/> In a next step, scopes will be defined so that the application can request restricted scopes (filestorage, bubble management, channels, …)      - `state`: a \"random\" value sent by the client to maintain a state between the request and the callback.        Can be used to protect against cross-site request forgery attacks (CSRF). - (3) Rainbow authentication server checks that the `client_id` sent in query parameter in (2) corresponds to a valid application in the database.      - If so, Rainbow authentication server redirects user\\'s browser to Rainbow login page      - Otherwise, an error is returned (if redirect_uri is provided, user\\'s browser is redirected to this uri and the error is sent in query parameters) - (4) User enters his credentials on login page and submit the form. Rainbow authentication server checks in the database if user credentials are valid.      - (5) If so, Rainbow authentication server redirects user\\'s browser to consent page      - Otherwise, Rainbow authentication server redirects again user\\'s browser to login page with an error which is displayed for the user - (6) User authorize the application to access Rainbow APIs in his name. The form is submitted on Rainbow authentication server.      - (7) If the user authorized, Rainbow authentication server generates an authorization code and redirects user\\'s browser to application backend\\'s `redirect_uri` (the one provided in query parameters in (2)).                Note that `redirect_uri` must be one of the configured `oauthRedirectUris` in the application, otherwise an error is returned.                        The following data are returned in query parameters of the redirection uri (defined by <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.2\">OAuth 2.0 RFC</a>):       - `code`: the authorization code that can be exchanged against an access token and a refresh token using <a href=\"#api-OAuth_Authentication-OAuthToken\">token endpoint</a>.            Authorization code has a short lifetime (10 minutes) and can only be used once.       - `state`: if state was provided in (2), this value is returned (otherwise a random value is returned).      - If the user declined, Rainbow authentication server redirects user\\'s browser to application backend\\'s `redirect_uri` with an error in query parameters.  Once the application has the authorization code, it has to exchange it against an access token and a refresh token using POST /api/rainbow/authentication/v1.0/oauth/token endpoint, points 8 and 9 of the sequence diagram (see <a href=\"#api-OAuth_Authentication-OAuthToken\">documentation</a> of this endpoint for more information).  ### 2. Authorize request for Implicit grant  The OAuth **Implicit** Grant flow is detailed in the following sequence diagram.  Unlike Authorization Code grant flow, this GET /api/rainbow/authentication/v1.0/oauth/authorize endpoint is the only one to be used by the application to retrieve the OAuth access token.  ![Failed to load diagram :-(](img/oauth_implicit_flow_sd.png \"OAuth Implicit Grant sequence diagram\")  Details about the sequence diagram: - (1) User uses the web application on his browser - (1) User accesses to web application content that needs data from Rainbow, or web application allows to login with Rainbow, … (use case depends of the application needs) - (2) Application redirects to OAuth authorize endpoint on Rainbow authentication server.       Some query string parameters are provided in the query (defined by <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">OAuth 2.0 RFC</a>):      - `response_type`: \"**token**\" for requesting an access token (implicit grant)      - `client_id`: the application identifier (appId)      - `redirect_uri`: web application\\'s endpoint where the authorization code will be sent.      - `scope`: scope of the access requested by the application.        <br/> Currently, only \"all\" is supported (meaning that the application will have full access on all the Rainbow APIs).        <br/> In a next step, scopes will be defined so that the application can request restricted scopes (filestorage, bubble management, channels, …)      - `state`: a \"random\" value sent by the client to maintain a state between the request and the callback.        Can be used to protect against cross-site request forgery attacks (CSRF). - (3) Rainbow authentication server checks that the `client_id` sent in query parameter in (2) corresponds to a valid application in the database.      - If so, Rainbow authentication server redirects user\\'s browser to Rainbow login page      - Otherwise, an error is returned (if redirect_uri is provided, user\\'s browser is redirected to this uri and the error is sent in fragment component of        this redirection uri) - (4) User enters his credentials on login page and submit the form. Rainbow authentication server checks in the database if user credentials are valid.      - (5) If so, Rainbow authentication server redirects user\\'s browser to consent page      - Otherwise, Rainbow authentication server redirects again user\\'s browser to login page with an error which is displayed for the user - (6) User authorize the application to access Rainbow APIs in his name. The form is submitted on Rainbow authentication server.      - (7) If the user authorized, Rainbow authentication server generates an access token and redirects user\\'s browser to web application\\'s `redirect_uri` (the one provided in query parameters in (2)).       Note that `redirect_uri` must be one of the configured `oauthRedirectUris` in the application, otherwise an error is returned.          The following data are returned in **fragment** component of the redirection uri (defined by <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.2\">OAuth 2.0 RFC</a>):          - `access_token`: the access token that can be used by the application to use Rainbow APIs,          - `token_type`: the type of token returned (\"**access_token**\"),          - `expires_in`: the lifetime of the access token (in seconds),          - `state`: if state was provided in (2), this value is returned (otherwise a random value is returned).      - If the user declined, Rainbow authentication server redirects user\\'s browser to application\\'s `redirect_uri` with an error in fragment component.  > Once the application has the access token, it can use it to use Rainbow APIs with the account of the related Rainbow user.
     * @param {String} contentType application/x-www-form-urlencoded
     * @param {String} responseType Desired grant type to use for authorize endpoint. <br/> To be set to: - ```code``` if Authorization Code grant is used, - ```token``` if Implicit grant is used.  For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-3.1.1\">section 3.1.1</a> and <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1 (Authorization Code grant)</a> or <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1 (Implicit grant)</a>.
     * @param {String} clientId Unique identifier of the application requesting the authorization (also documented as ```appId``` in Rainbow APIs documentation). <br/> <br/> For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-2.2\">section 2.2</a>       and <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1 (Authorization Code grant)</a> or       <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1 (Implicit grant)</a>.
     * @param {Object} opts Optional parameters
     * @param {String} opts.redirectUri Application's endpoint URI where the user-agent will be redirected with the authorization code (Authorization Code grant) or access token (Implicit grant) if the user grants access to the application. <br/> Errors are redirected to this endpoint as well, for example in the case the user declines access to the application. <br/> <br/> If ```redirect_uri``` parameter is specified, it must be one of the URIs defined in application's ```oauthRedirectUris``` parameter,       otherwise the user-agent is redirected to the specified redirect_uri with an error and error_description parameters in query string       (error=invalid_client&error_description=Invalid client: `redirect_uri` does not match client value). <br/> <br/> If ```redirect_uri``` parameter is not specified, the first URI defined in application's ```oauthRedirectUris``` parameter is used. <br/> => Application's ```oauthRedirectUris``` parameter must be configured to allow the application to use OAuth 2.0 authorization grant. <br/> <br/> If Authorization Code grant is used, this endpoint should use TLS for security reasons, as sensitive data are sent to application's endpoint through a public network. <br/> <br/> For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-3.1.2\">section 3.1.2</a>       and <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1 (Authorization Code grant)</a> or       <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1 (Implicit grant)</a>.
     * @param {String} opts.scope The scope of the Rainbow API access requested by the application. <br/> For now, only ```all``` is implemented (i.e. application has access to all the Rainbow APIs). <br/> <br/> For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-3.3\">section 3.3</a>       and <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1 (Authorization Code grant)</a> or       <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1 (Implicit grant)</a>.
     * @param {String} opts.state A random string that can be provided by the application to maintain state between the authorize request and the redirection to redirect_uri endpoint (state is sent back by Rainbow authentication server to redirect_uri endpoint). <br/> This should be used by the application to prevent against cross-site request forgery (CSRF). <br/> <br/> For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1</a>. <br/> For more information regarding cross-site request forgery (CSRF) threat, details are available in the       <a href=\"https://tools.ietf.org/html/rfc6749#section-10.12\">section 10.12</a>.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/OAuthAuthorizeSuccess} and HTTP response
     */
    this.oAuthAuthorizeWithHttpInfo = function(contentType, responseType, clientId, opts) {
      opts = opts || {};
      var postBody = null;
      // verify the required parameter 'contentType' is set
      if (contentType === undefined || contentType === null) {
        throw new Error("Missing the required parameter 'contentType' when calling oAuthAuthorize");
      }
      // verify the required parameter 'responseType' is set
      if (responseType === undefined || responseType === null) {
        throw new Error("Missing the required parameter 'responseType' when calling oAuthAuthorize");
      }
      // verify the required parameter 'clientId' is set
      if (clientId === undefined || clientId === null) {
        throw new Error("Missing the required parameter 'clientId' when calling oAuthAuthorize");
      }

      var pathParams = {
      };
      var queryParams = {
        'response_type': responseType,
        'client_id': clientId,
        'redirect_uri': opts['redirectUri'],
        'scope': opts['scope'],
        'state': opts['state'],
      };
      var collectionQueryParams = {
      };
      var headerParams = {
        'content-type': contentType
      };
      var formParams = {
      };

      var authNames = [];
      var contentTypes = [];
      var accepts = ['application/json', 'application/unknown'];
      var returnType = OAuthAuthorizeSuccess;
      return this.apiClient.callApi(
        '/api/rainbow/authentication/v1.0/oauth/authorize', 'GET',
        pathParams, queryParams, collectionQueryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType, null
      );
    }

    /**
     * 1 - OAuth Authorization Request
     * This endpoints allows applications to get authorization from Rainbow users to use Rainbow APIs with their account. This delegation of access can be performed using OAuth 2.0 **Authorization code** grant or **Implicit** grant.  While both OAuth 2.0 Authorization Code grant and Implicit grant are supported by Rainbow, Authorization Code grant is **recommended** as it is more secure.  Implicit grant is recommended for browser applications implemented in JavaScript that can't provide a backend server handling the token exchange flow of OAuth Authorization Code grant. Indeed, such applications should not embed appSecret in their source code for security reasons, and Implicit grant allow them to retrieve the OAuth access token without sending the appSecret to Rainbow server (redirect_uri is the only security available with this flow). The limitation of implicit grant is that only an access token is returned, which has a limited lifetime and can't be renewed. Application has to execute again the whole Implicit grant flow to retrieve a new access token.  To enable Implicit grant for an application, the application's setting `enableOAuthImplicitGrant` has to be set to true (it is disabled by default).  For more information, see the OAuth 2.0 RFC related to authorization endpoint: - <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1</a> for Authorization Code grant, - <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1</a> for Implicit grant.  Note that Rainbow applications are named **client** in OAuth 2.0 RFC.   ### 1. Authorize request for Authorization code grant   The OAuth **Authorization Code** Grant flow is detailed in the following sequence diagram.  This GET /api/rainbow/authentication/v1.0/oauth/authorize endpoint addresses points 1 to 7 of this diagram for Authorization code grant flow (points 8 to 9 are addressed by POST /api/rainbow/authentication/v1.0/oauth/token endpoint, see related <a href=\"#api-OAuth_Authentication-OAuthToken\">documentation</a>). ![Failed to load diagram :-(](img/oauth_authorization_code_flow_sd.png \"OAuth Authorization Code Grant sequence diagram\")  Details about the sequence diagram: - (1) User is on application website - (1) User accesses to application content that needs data from Rainbow, or application allows to login with Rainbow,     … (use case depends of the application needs) - (2) Application redirects to OAuth authorize endpoint on Rainbow authentication server.       Some query string parameters are provided in the query (defined by <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">OAuth 2.0 RFC</a>):      - `response_type`: \"**code**\" for requesting an authorization code (authorization code grant)      - `client_id`: the application identifier (appId)      - `redirect_uri`: application\\'s backend endpoint where the authorization code will be sent.        <br/> It has to use TLS for security reasons, as the authorization code is exchanged between Rainbow and the application\\'s backend through the browser.      - `scope`: scope of the access requested by the application.        <br/> Currently, only \"all\" is supported (meaning that the application will have full access on all the Rainbow APIs).        <br/> In a next step, scopes will be defined so that the application can request restricted scopes (filestorage, bubble management, channels, …)      - `state`: a \"random\" value sent by the client to maintain a state between the request and the callback.        Can be used to protect against cross-site request forgery attacks (CSRF). - (3) Rainbow authentication server checks that the `client_id` sent in query parameter in (2) corresponds to a valid application in the database.      - If so, Rainbow authentication server redirects user\\'s browser to Rainbow login page      - Otherwise, an error is returned (if redirect_uri is provided, user\\'s browser is redirected to this uri and the error is sent in query parameters) - (4) User enters his credentials on login page and submit the form. Rainbow authentication server checks in the database if user credentials are valid.      - (5) If so, Rainbow authentication server redirects user\\'s browser to consent page      - Otherwise, Rainbow authentication server redirects again user\\'s browser to login page with an error which is displayed for the user - (6) User authorize the application to access Rainbow APIs in his name. The form is submitted on Rainbow authentication server.      - (7) If the user authorized, Rainbow authentication server generates an authorization code and redirects user\\'s browser to application backend\\'s `redirect_uri` (the one provided in query parameters in (2)).                Note that `redirect_uri` must be one of the configured `oauthRedirectUris` in the application, otherwise an error is returned.                        The following data are returned in query parameters of the redirection uri (defined by <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.2\">OAuth 2.0 RFC</a>):       - `code`: the authorization code that can be exchanged against an access token and a refresh token using <a href=\"#api-OAuth_Authentication-OAuthToken\">token endpoint</a>.            Authorization code has a short lifetime (10 minutes) and can only be used once.       - `state`: if state was provided in (2), this value is returned (otherwise a random value is returned).      - If the user declined, Rainbow authentication server redirects user\\'s browser to application backend\\'s `redirect_uri` with an error in query parameters.  Once the application has the authorization code, it has to exchange it against an access token and a refresh token using POST /api/rainbow/authentication/v1.0/oauth/token endpoint, points 8 and 9 of the sequence diagram (see <a href=\"#api-OAuth_Authentication-OAuthToken\">documentation</a> of this endpoint for more information).  ### 2. Authorize request for Implicit grant  The OAuth **Implicit** Grant flow is detailed in the following sequence diagram.  Unlike Authorization Code grant flow, this GET /api/rainbow/authentication/v1.0/oauth/authorize endpoint is the only one to be used by the application to retrieve the OAuth access token.  ![Failed to load diagram :-(](img/oauth_implicit_flow_sd.png \"OAuth Implicit Grant sequence diagram\")  Details about the sequence diagram: - (1) User uses the web application on his browser - (1) User accesses to web application content that needs data from Rainbow, or web application allows to login with Rainbow, … (use case depends of the application needs) - (2) Application redirects to OAuth authorize endpoint on Rainbow authentication server.       Some query string parameters are provided in the query (defined by <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">OAuth 2.0 RFC</a>):      - `response_type`: \"**token**\" for requesting an access token (implicit grant)      - `client_id`: the application identifier (appId)      - `redirect_uri`: web application\\'s endpoint where the authorization code will be sent.      - `scope`: scope of the access requested by the application.        <br/> Currently, only \"all\" is supported (meaning that the application will have full access on all the Rainbow APIs).        <br/> In a next step, scopes will be defined so that the application can request restricted scopes (filestorage, bubble management, channels, …)      - `state`: a \"random\" value sent by the client to maintain a state between the request and the callback.        Can be used to protect against cross-site request forgery attacks (CSRF). - (3) Rainbow authentication server checks that the `client_id` sent in query parameter in (2) corresponds to a valid application in the database.      - If so, Rainbow authentication server redirects user\\'s browser to Rainbow login page      - Otherwise, an error is returned (if redirect_uri is provided, user\\'s browser is redirected to this uri and the error is sent in fragment component of        this redirection uri) - (4) User enters his credentials on login page and submit the form. Rainbow authentication server checks in the database if user credentials are valid.      - (5) If so, Rainbow authentication server redirects user\\'s browser to consent page      - Otherwise, Rainbow authentication server redirects again user\\'s browser to login page with an error which is displayed for the user - (6) User authorize the application to access Rainbow APIs in his name. The form is submitted on Rainbow authentication server.      - (7) If the user authorized, Rainbow authentication server generates an access token and redirects user\\'s browser to web application\\'s `redirect_uri` (the one provided in query parameters in (2)).       Note that `redirect_uri` must be one of the configured `oauthRedirectUris` in the application, otherwise an error is returned.          The following data are returned in **fragment** component of the redirection uri (defined by <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.2\">OAuth 2.0 RFC</a>):          - `access_token`: the access token that can be used by the application to use Rainbow APIs,          - `token_type`: the type of token returned (\"**access_token**\"),          - `expires_in`: the lifetime of the access token (in seconds),          - `state`: if state was provided in (2), this value is returned (otherwise a random value is returned).      - If the user declined, Rainbow authentication server redirects user\\'s browser to application\\'s `redirect_uri` with an error in fragment component.  > Once the application has the access token, it can use it to use Rainbow APIs with the account of the related Rainbow user.
     * @param {String} contentType application/x-www-form-urlencoded
     * @param {String} responseType Desired grant type to use for authorize endpoint. <br/> To be set to: - ```code``` if Authorization Code grant is used, - ```token``` if Implicit grant is used.  For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-3.1.1\">section 3.1.1</a> and <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1 (Authorization Code grant)</a> or <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1 (Implicit grant)</a>.
     * @param {String} clientId Unique identifier of the application requesting the authorization (also documented as ```appId``` in Rainbow APIs documentation). <br/> <br/> For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-2.2\">section 2.2</a>       and <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1 (Authorization Code grant)</a> or       <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1 (Implicit grant)</a>.
     * @param {Object} opts Optional parameters
     * @param {String} opts.redirectUri Application's endpoint URI where the user-agent will be redirected with the authorization code (Authorization Code grant) or access token (Implicit grant) if the user grants access to the application. <br/> Errors are redirected to this endpoint as well, for example in the case the user declines access to the application. <br/> <br/> If ```redirect_uri``` parameter is specified, it must be one of the URIs defined in application's ```oauthRedirectUris``` parameter,       otherwise the user-agent is redirected to the specified redirect_uri with an error and error_description parameters in query string       (error=invalid_client&error_description=Invalid client: `redirect_uri` does not match client value). <br/> <br/> If ```redirect_uri``` parameter is not specified, the first URI defined in application's ```oauthRedirectUris``` parameter is used. <br/> => Application's ```oauthRedirectUris``` parameter must be configured to allow the application to use OAuth 2.0 authorization grant. <br/> <br/> If Authorization Code grant is used, this endpoint should use TLS for security reasons, as sensitive data are sent to application's endpoint through a public network. <br/> <br/> For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-3.1.2\">section 3.1.2</a>       and <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1 (Authorization Code grant)</a> or       <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1 (Implicit grant)</a>.
     * @param {String} opts.scope The scope of the Rainbow API access requested by the application. <br/> For now, only ```all``` is implemented (i.e. application has access to all the Rainbow APIs). <br/> <br/> For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-3.3\">section 3.3</a>       and <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1 (Authorization Code grant)</a> or       <a href=\"https://tools.ietf.org/html/rfc6749#section-4.2.1\">section 4.2.1 (Implicit grant)</a>.
     * @param {String} opts.state A random string that can be provided by the application to maintain state between the authorize request and the redirection to redirect_uri endpoint (state is sent back by Rainbow authentication server to redirect_uri endpoint). <br/> This should be used by the application to prevent against cross-site request forgery (CSRF). <br/> <br/> For more information, details are available in the OAuth 2.0 RFC, <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.1\">section 4.1.1</a>. <br/> For more information regarding cross-site request forgery (CSRF) threat, details are available in the       <a href=\"https://tools.ietf.org/html/rfc6749#section-10.12\">section 10.12</a>.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/OAuthAuthorizeSuccess}
     */
    this.oAuthAuthorize = function(contentType, responseType, clientId, opts) {
      return this.oAuthAuthorizeWithHttpInfo(contentType, responseType, clientId, opts)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }


    /**
     * 2 - OAuth Access Token Request
     * This endpoints allows applications to get an access token allowing them to use Rainbow APIs with the account of the related Rainbow user.  Access token has a short lifetime (1 hour). A refresh token is issued as well, allowing applications to refresh their access token (and such avoiding the application to request user authorization again with GET /api/rainbow/authentication/v1.0/oauth/authorize).  The token endpoint can be used: 1. To exchange the authorization code against an access token and a refresh token, 2. To get a new access token using the refresh token (to be used when the access token has expired).   ## 1. Exchange the authorization code against an access token and a refresh token  For more information, see the <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.3\">OAuth 2.0 RFC, section 4.1.3</a> related to the use of this endpoint to exchange the authorization code against an access token and a refresh token.  The OAuth Access Token Request flow is detailed in the following sequence diagram.  This POST /api/rainbow/authentication/v1.0/oauth/token endpoint addresses points 8 to 9 of this diagram (points 1 to 7 are addressed by GET /api/rainbow/authentication/v1.0/oauth/authorize endpoint, see related <a href=\"#api-OAuth_Authentication-OAuthAuthorize\">documentation</a>). ![Failed to load diagram :-(](img/oauth_authorization_code_flow_sd.png \"OAuth Authorization Code Grant sequence diagram\")  Details about the sequence diagram: - (8) application\\'s backend exchanges the authorization code it retrieved in (7) against an access token and a refresh token.    For that, it calls the OAuth token endpoint on Rainbow authentication server. It has to provide:     - The header Authorization with Basic &lt;base64encode(`client_id`:`client_secret`)&gt;.      This request has to be done from the application''s backend so that the client_secret (appSecret) remains confidential.      Example of base64 calculation:      ```      base64(\"78e98ee09bad11e8b8edebb50d679df6:2UrOcs3agk34zaV3Jsf01vM54iLyqwBEpnv5vJr72D9cE5wMVQeEe3BM7IxzyyJD\") =         <i>NzhlOThlZTA5YmFkMTFlOGI4ZWRlYmI1MGQ2NzlkZjY6MlVyT2NzM2FnazM0emFWM0pzZjAxdk01NGlMeXF3QkVwbnY1dkpyNzJEOWNFNXdNVlFlRWUzQk03SXh6eXlKRA==</i>      ```     - In the body the parameters (x-www-form-urlencoded):   - `grant_type`: must be set to \"**authorization_code**\" for an exchange of an authorization code against an access token and a refresh token   - `code`: the authorization code sent by Rainbow authentication server in (7)   - `redirect_uri`: the redirect_uri parameter, must be the same than the one used to retrieve the authorization code (the one sent in (2)) - (9) Rainbow authentication server checks that the application\\'s credentials are valid by extracting client_id and client_secret from the Authorization header and comparing them to the appId and appSecret stored in the database. Then it checks that the provided authorization code is valid, has well been generated for this application and redirect_uri matches the one sent in (2). Provided authorization code is revoked, as it can only be used once.     - If everything is valid, Rainbow authentication server generates an access token and a refresh token that it stores in the database and returns in the body of       the HTTP response to the application\\'s backend.     - Otherwise, a body with an error message is returned to the application\\'s backend. - (10) With the access token received from the Rainbow authentication server in (9), the application can use it to call Rainbow APIs in the name of the user.    For that, it calls the Rainbow APIs with the header Authorization Bearer <access_token>.   ### 2. Refresh an access token  Access token has a short lifetime (1 hour). If the application tries to use an expired access token for a request on Rainbow API, an error 401 Unauthorized is returned. Access token can be renewed using the refresh token, this avoids the application to redo the whole OAuth authorization code flow.  For more information, see the <a href=\"https://tools.ietf.org/html/rfc6749#section-6\">OAuth 2.0 RFC, section 6</a> related to the refresh of an access token.  The OAuth Refresh Access Token flow is detailed in the following sequence diagram. ![Failed to load diagram :-(](img/oauth_refresh_token_flow_sd.png \"OAuth Refresh Access Token sequence diagram\") Details about the sequence diagram: -  (1) User is on application website -  (1) User accesses to application content that needs data from Rainbow (use case depends of the application needs).   The application has already an OAuth access token and a refresh token retrieved using the authorization code grant  described in \"*OAuth Authorization Code Grant sequence diagram*\". -  (1) Application calls the Rainbow API (whatever the portal is) to access Rainbow user data.    It provides the header `Authorization: Bearer &lt;access_token&gt;` in the request. -  (2) Rainbow API portal checks the validity of the access token (existing, not expired). -  (2) If the access token is expired, an error 401 Unauthorized is returned. The application needs to renew the access token. -  (3) [optional, depends of the application implementation] If the application is executed in the browser (JavaScript), it needs to request its backend to get a new access token.   If the request to Rainbow API is already performed in the application\\'s backend, the backend itself can renew the access token. -  (4) Application\\'s backend calls the OAuth token endpoint on Rainbow authentication server. It has to provide:     -  The header Authorization with Basic &lt;base64(`client_id`:`client_secret`)&gt;.        This request has to be done from the application\\'s backend so that the client_secret (appSecret) remains confidential.                   Example of base64 calculation:  ```  base64(\"78e98ee09bad11e8b8edebb50d679df6:2UrOcs3agk34zaV3Jsf01vM54iLyqwBEpnv5vJr72D9cE5wMVQeEe3BM7IxzyyJD\") =         <i>NzhlOThlZTA5YmFkMTFlOGI4ZWRlYmI1MGQ2NzlkZjY6MlVyT2NzM2FnazM0emFWM0pzZjAxdk01NGlMeXF3QkVwbnY1dkpyNzJEOWNFNXdNVlFlRWUzQk03SXh6eXlKRA==</i>  ```      -  In the body the parameters (x-www-form-urlencoded)         - `grant_type`: must be set to \"**refresh_token**\" to request a new access token using the refresh token         - `refresh_token`: the refresh token sent by Rainbow authentication server -  (5) Rainbow authentication server checks that the client credentials are valid by extracting client_id and client_secret from the Authorization header        and comparing them to the appId and appSecret stored in the database.        Then it checks that the provided refresh token is valid, not expired, and has well been generated for this application.     -  If everything is valid, Rainbow authentication server generates a new access token and a new refresh token        and return them in the body of the HTTP response to the application\\'s backend.     -  Otherwise, a body with an error message is returned to the application\\'s backend. -  (6) The application updates its access token and refresh token in its own storage.               In the case the applicationD is running in the browser, the backend returns the new access token to its frontend. -  (7) The application redo the same API request to Rainbow portal done in (1), with the newly generated access token. -  (8) Rainbow API portal checks the validity of the access token. As the access token is now valid,        the Rainbow API performs the requested operation / returns the requested data.
     * @param {module:model/OAuthToken} oAuthToken 
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:model/OAuthTokenSuccess} and HTTP response
     */
    this.oAuthTokenWithHttpInfo = function(oAuthToken) {
      var postBody = oAuthToken;
      // verify the required parameter 'oAuthToken' is set
      if (oAuthToken === undefined || oAuthToken === null) {
        throw new Error("Missing the required parameter 'oAuthToken' when calling oAuthToken");
      }

      var pathParams = {
      };
      var queryParams = {
      };
      var collectionQueryParams = {
      };
      var headerParams = {
      };
      var formParams = {
      };

      var authNames = [];
      var contentTypes = ['application/json'];
      var accepts = ['application/json', 'application/unknown'];
      var returnType = OAuthTokenSuccess;
      return this.apiClient.callApi(
        '/api/rainbow/authentication/v1.0/oauth/token', 'POST',
        pathParams, queryParams, collectionQueryParams, headerParams, formParams, postBody,
        authNames, contentTypes, accepts, returnType, null
      );
    }

    /**
     * 2 - OAuth Access Token Request
     * This endpoints allows applications to get an access token allowing them to use Rainbow APIs with the account of the related Rainbow user.  Access token has a short lifetime (1 hour). A refresh token is issued as well, allowing applications to refresh their access token (and such avoiding the application to request user authorization again with GET /api/rainbow/authentication/v1.0/oauth/authorize).  The token endpoint can be used: 1. To exchange the authorization code against an access token and a refresh token, 2. To get a new access token using the refresh token (to be used when the access token has expired).   ## 1. Exchange the authorization code against an access token and a refresh token  For more information, see the <a href=\"https://tools.ietf.org/html/rfc6749#section-4.1.3\">OAuth 2.0 RFC, section 4.1.3</a> related to the use of this endpoint to exchange the authorization code against an access token and a refresh token.  The OAuth Access Token Request flow is detailed in the following sequence diagram.  This POST /api/rainbow/authentication/v1.0/oauth/token endpoint addresses points 8 to 9 of this diagram (points 1 to 7 are addressed by GET /api/rainbow/authentication/v1.0/oauth/authorize endpoint, see related <a href=\"#api-OAuth_Authentication-OAuthAuthorize\">documentation</a>). ![Failed to load diagram :-(](img/oauth_authorization_code_flow_sd.png \"OAuth Authorization Code Grant sequence diagram\")  Details about the sequence diagram: - (8) application\\'s backend exchanges the authorization code it retrieved in (7) against an access token and a refresh token.    For that, it calls the OAuth token endpoint on Rainbow authentication server. It has to provide:     - The header Authorization with Basic &lt;base64encode(`client_id`:`client_secret`)&gt;.      This request has to be done from the application''s backend so that the client_secret (appSecret) remains confidential.      Example of base64 calculation:      ```      base64(\"78e98ee09bad11e8b8edebb50d679df6:2UrOcs3agk34zaV3Jsf01vM54iLyqwBEpnv5vJr72D9cE5wMVQeEe3BM7IxzyyJD\") =         <i>NzhlOThlZTA5YmFkMTFlOGI4ZWRlYmI1MGQ2NzlkZjY6MlVyT2NzM2FnazM0emFWM0pzZjAxdk01NGlMeXF3QkVwbnY1dkpyNzJEOWNFNXdNVlFlRWUzQk03SXh6eXlKRA==</i>      ```     - In the body the parameters (x-www-form-urlencoded):   - `grant_type`: must be set to \"**authorization_code**\" for an exchange of an authorization code against an access token and a refresh token   - `code`: the authorization code sent by Rainbow authentication server in (7)   - `redirect_uri`: the redirect_uri parameter, must be the same than the one used to retrieve the authorization code (the one sent in (2)) - (9) Rainbow authentication server checks that the application\\'s credentials are valid by extracting client_id and client_secret from the Authorization header and comparing them to the appId and appSecret stored in the database. Then it checks that the provided authorization code is valid, has well been generated for this application and redirect_uri matches the one sent in (2). Provided authorization code is revoked, as it can only be used once.     - If everything is valid, Rainbow authentication server generates an access token and a refresh token that it stores in the database and returns in the body of       the HTTP response to the application\\'s backend.     - Otherwise, a body with an error message is returned to the application\\'s backend. - (10) With the access token received from the Rainbow authentication server in (9), the application can use it to call Rainbow APIs in the name of the user.    For that, it calls the Rainbow APIs with the header Authorization Bearer <access_token>.   ### 2. Refresh an access token  Access token has a short lifetime (1 hour). If the application tries to use an expired access token for a request on Rainbow API, an error 401 Unauthorized is returned. Access token can be renewed using the refresh token, this avoids the application to redo the whole OAuth authorization code flow.  For more information, see the <a href=\"https://tools.ietf.org/html/rfc6749#section-6\">OAuth 2.0 RFC, section 6</a> related to the refresh of an access token.  The OAuth Refresh Access Token flow is detailed in the following sequence diagram. ![Failed to load diagram :-(](img/oauth_refresh_token_flow_sd.png \"OAuth Refresh Access Token sequence diagram\") Details about the sequence diagram: -  (1) User is on application website -  (1) User accesses to application content that needs data from Rainbow (use case depends of the application needs).   The application has already an OAuth access token and a refresh token retrieved using the authorization code grant  described in \"*OAuth Authorization Code Grant sequence diagram*\". -  (1) Application calls the Rainbow API (whatever the portal is) to access Rainbow user data.    It provides the header `Authorization: Bearer &lt;access_token&gt;` in the request. -  (2) Rainbow API portal checks the validity of the access token (existing, not expired). -  (2) If the access token is expired, an error 401 Unauthorized is returned. The application needs to renew the access token. -  (3) [optional, depends of the application implementation] If the application is executed in the browser (JavaScript), it needs to request its backend to get a new access token.   If the request to Rainbow API is already performed in the application\\'s backend, the backend itself can renew the access token. -  (4) Application\\'s backend calls the OAuth token endpoint on Rainbow authentication server. It has to provide:     -  The header Authorization with Basic &lt;base64(`client_id`:`client_secret`)&gt;.        This request has to be done from the application\\'s backend so that the client_secret (appSecret) remains confidential.                   Example of base64 calculation:  ```  base64(\"78e98ee09bad11e8b8edebb50d679df6:2UrOcs3agk34zaV3Jsf01vM54iLyqwBEpnv5vJr72D9cE5wMVQeEe3BM7IxzyyJD\") =         <i>NzhlOThlZTA5YmFkMTFlOGI4ZWRlYmI1MGQ2NzlkZjY6MlVyT2NzM2FnazM0emFWM0pzZjAxdk01NGlMeXF3QkVwbnY1dkpyNzJEOWNFNXdNVlFlRWUzQk03SXh6eXlKRA==</i>  ```      -  In the body the parameters (x-www-form-urlencoded)         - `grant_type`: must be set to \"**refresh_token**\" to request a new access token using the refresh token         - `refresh_token`: the refresh token sent by Rainbow authentication server -  (5) Rainbow authentication server checks that the client credentials are valid by extracting client_id and client_secret from the Authorization header        and comparing them to the appId and appSecret stored in the database.        Then it checks that the provided refresh token is valid, not expired, and has well been generated for this application.     -  If everything is valid, Rainbow authentication server generates a new access token and a new refresh token        and return them in the body of the HTTP response to the application\\'s backend.     -  Otherwise, a body with an error message is returned to the application\\'s backend. -  (6) The application updates its access token and refresh token in its own storage.               In the case the applicationD is running in the browser, the backend returns the new access token to its frontend. -  (7) The application redo the same API request to Rainbow portal done in (1), with the newly generated access token. -  (8) Rainbow API portal checks the validity of the access token. As the access token is now valid,        the Rainbow API performs the requested operation / returns the requested data.
     * @param {module:model/OAuthToken} oAuthToken 
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:model/OAuthTokenSuccess}
     */
    this.oAuthToken = function(oAuthToken) {
      return this.oAuthTokenWithHttpInfo(oAuthToken)
        .then(function(response_and_data) {
          return response_and_data.data;
        });
    }
  };

  return exports;
}));
